import { DemoBlock } from "~/ui/Type";
import { Layout } from "~/ui/Layout";
import { BrowserComponent } from "~/modfed/BrowserComponent";
import { Test } from "~/browser-components/Test";
import { Highlight } from "~/ui/Highlight";

### The initial HTML for this page was rendered at build time - so it works without JavaScript + (really, try it)

But, when a page like this contains a Component marked as JS-ENABLED, the 2kb runtime loads, and then
loads any micro-bundles required for the component (in this example, that's Preact/compat)

Thanks to Module Federation, if multiple components on the same page share dependencies (eg: Preact)
they will 'share' them intelligently

### The timer below was server-side render

Once the page is ready, a tiny bundle loads and hydrates the markup

<Highlight src={require("raw-loader!../../rust/main.raw.rs").default} lang={"rust"} />
<Highlight src={require("raw-loader!../../rust/other.svg").default} lang={"html"} />

<DemoBlock>
    <BrowserComponent>
        <Test />
    </BrowserComponent>
</DemoBlock>

export const config = {
    unstable_runtimeJS: false,
};

export default ({ children }) => (
    <Layout
        meta={{
            title: "Aiming for idiomatic Rust",
        }}
    >
        {children}
    </Layout>
);
