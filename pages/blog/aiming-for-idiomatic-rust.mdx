import { Layout } from "~/ui/Layout";
import { BrowserComponent } from "~/modfed/BrowserComponent";
import { Highlight } from "~/ui/Highlight";
import { DemoBlock } from "../../ui/Type";

This is a test post for the new blog, and I'm enjoying it

<Highlight src={require("raw-loader!../../rust/main.raw.rs").default} lang={"rust"} />

## Stack-based solution

Whilst this is easier to reason about, it requires the extra data structure
to do the book-keeping

<DemoBlock label="visualization">
  <BrowserComponent kind="vanilla" scriptInclude="algo/algo-balanced-stack.lit.ts">
    <algo-balanced-stack input="((9+1))" inputs='[
  { "value": "((9+1))", "label": "Simple balanced" },
  { "value": "(1+2", "label": "Stack not empty" },
  { "value": "((1+2]", "label": "Closing bracket does not match" }
]'/>
  </BrowserComponent>
</DemoBlock>

## Recursive solution

This is done in a single pass using recursion

<DemoBlock label="visualization">
  <BrowserComponent kind="vanilla" scriptInclude="algo/algo-balanced-recursive.lit.ts">
    <algo-balanced-recursive input="(1+2)" inputs='[
  { "value": "(1+2)", "label": "Simple balanced" },
  { "value": "(1+2", "label": "Missing closing paren" },
  { "value": "({123}]", "label": "Closing bracket does not match" },
  { "value": "]123", "label": "Starting on a closing bracket" }
]' />
  </BrowserComponent>
</DemoBlock>

export const config = {
  unstable_runtimeJS: false,
};

export default ({ children }) => (
  <Layout
    meta={{
      title: "Aiming for idiomatic Rust",
    }}
  >
    {children}
  </Layout>
);
